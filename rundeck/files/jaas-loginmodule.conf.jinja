/*
 * This file is managed by salt. Do not edit by hand.
 */
{%- from "rundeck/map.jinja" import rundeck_settings with context %}
RDpropertyfilelogin {

{%- if rundeck_settings.login.ldap is defined %}

    com.dtolabs.rundeck.jetty.jaas.JettyCachingLdapLoginModule {{ rundeck_settings.login.ldap.flag|default('required') }}
    {%- if rundeck_settings.login.ldap.debug is defined %}
        debug="{{ rundeck_settings.login.ldap.debug|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.use_first_pass is defined %}
        useFirstPass="{{ rundeck_settings.login.ldap.use_first_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.true_first_pass is defined %}
        trueFirstPass="{{ rundeck_settings.login.ldap.true_first_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.store_pass is defined %}
        storePass="{{ rundeck_settings.login.ldap.store_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.clear_pass is defined %}
        clearPass="{{ rundeck_settings.login.ldap.clear_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.context_factory is defined %}
        contextFactory="{{ rundeck_settings.login.ldap.context_factory }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.bind_dn is defined %}
        bindDn="{{ rundeck_settings.login.ldap.bind_dn }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.bind_password is defined %}
        bindPassword="{{ rundeck_settings.login.ldap.bind_password }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.authentication_method is defined %}
        authenticationMethod="{{ rundeck_settings.login.ldap.authentication_method }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.force_binding_login is defined %}
        forceBindingLogin="{{ rundeck_settings.login.ldap.force_binding_login|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.force_binding_login_use_root_context_for_roles is defined %}
        forceBindingLoginUseRootContextForRoles="{{ rundeck_settings.login.ldap.force_binding_login_use_root_context_for_roles|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.user_base_dn is defined %}
        userBaseDn="{{ rundeck_settings.login.ldap.user_base_dn }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.user_rdn_attribute is defined %}
        userRdnAttribute="{{ rundeck_settings.login.ldap.user_rdn_attribute }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.user_id_attribute is defined %}
        userIdAttribute="{{ rundeck_settings.login.ldap.user_id_attribute }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.user_password_attribute is defined %}
        userPasswordAttribute="{{ rundeck_settings.login.ldap.user_password_attribute }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.user_object_class is defined %}
        userObjectClass="{{ rundeck_settings.login.ldap.user_object_class }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.user_last_name_attribute is defined %}
        userLastNameAttribute="{{ rundeck_settings.login.ldap.user_last_name_attribute }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.user_first_name_attribute is defined %}
        userFirstNameAttribute="{{ rundeck_settings.login.ldap.user_first_name_attribute }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.user_email_attribute is defined %}
        userEmailAttribute="{{ rundeck_settings.login.ldap.user_email_attribute }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.role_base_dn is defined %}
        roleBaseDn="{{ rundeck_settings.login.ldap.role_base_dn }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.role_name_attribute is defined %}
        roleNameAttribute="{{ rundeck_settings.login.ldap.role_name_attribute }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.role_username_member_attribute is defined %}
        roleUsernameMemberAttribute="{{ rundeck_settings.login.ldap.role_username_member_attribute }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.role_member_attribute is defined %}
        roleMemberAttribute="{{ rundeck_settings.login.ldap.role_member_attribute }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.role_object_class is defined %}
        roleObjectClass="{{ rundeck_settings.login.ldap.role_object_class }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.role_prefix is defined %}
        rolePrefix="{{ rundeck_settings.login.ldap.role_prefix }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.cache_duration_millis is defined %}
        cacheDurationMillis="{{ rundeck_settings.login.ldap.cache_duration_millis }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.supplemental_roles is defined %}
        supplementalRoles="{{ rundeck_settings.login.ldap.supplemental_roles }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.report_statistics is defined %}
        reportStatistics="{{ rundeck_settings.login.ldap.report_statistics }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.timeout_read is defined %}
        timeoutRead="{{ rundeck_settings.login.ldap.timeout_read }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.timeout_connect is defined %}
        timeoutConnect="{{ rundeck_settings.login.ldap.timeout_connect }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.nested_groups is defined %}
        nestedGroups="{{ rundeck_settings.login.ldap.nested_groups|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.ldap.ignore_roles is defined %}
        ignoreRoles="{{ rundeck_settings.login.ldap.ignore_roles|lower }}"
    {%- endif %}
        providerUrl="{{ rundeck_settings.login.ldap.provider_url }}";
{%- endif %}

{%- if rundeck_settings.login.pam is defined %}

    org.rundeck.jaas.jetty.JettyPamLoginModule {{ rundeck_settings.login.pam.flag|default('required') }}
    {%- if rundeck_settings.login.pam.debug is defined %}
        debug="{{ rundeck_settings.login.pam.debug|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.pam.use_first_pass is defined %}
        useFirstPass="{{ rundeck_settings.login.pam.use_first_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.pam.true_first_pass is defined %}
        trueFirstPass="{{ rundeck_settings.login.pam.true_first_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.pam.store_pass is defined %}
        storePass="{{ rundeck_settings.login.pam.store_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.pam.clear_pass is defined %}
        clearPass="{{ rundeck_settings.login.pam.clear_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.pam.use_unix_groups is defined %}
        useUnixGroups="{{ rundeck_settings.login.pam.use_unix_groups }}"
    {%- endif %}
        service="{{ rundeck_settings.login.pam.service|default('sshd') }}";
{%- endif %}

{%- if rundeck_settings.login.file is defined %}

    org.eclipse.jetty.jaas.spi.PropertyFileLoginModule {{ rundeck_settings.login.file.flag|default('required') }}
    {%- if rundeck_settings.login.file.debug is defined %}
        debug="{{ rundeck_settings.login.file.debug|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.file.use_first_pass is defined %}
        useFirstPass="{{ rundeck_settings.login.file.use_first_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.file.true_first_pass is defined %}
        trueFirstPass="{{ rundeck_settings.login.file.true_first_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.file.store_pass is defined %}
        storePass="{{ rundeck_settings.login.file.store_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.file.clear_pass is defined %}
        clearPass="{{ rundeck_settings.login.file.clear_pass|lower }}"
    {%- endif %}
    {%- if rundeck_settings.login.file.refresh_interval is defined %}
        refreshInterval="{{ rundeck_settings.login.file.refresh_interval }}"
    {%- endif %}
        file="{{ rundeck_settings.login.file.file|default(rundeck_settings.realm_path) }}";
{%- endif %}

};
